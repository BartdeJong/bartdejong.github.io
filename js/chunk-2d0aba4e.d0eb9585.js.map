{"version":3,"sources":["webpack:///./node_modules/@ionic/core/dist/esm/es5/build/chunk-e38a33d4.js"],"names":["cloneMap","WeakMap","relocateInput","e","t","n","o","has","addClone","removeClone","isFocused","getRootNode","activeElement","parentNode","r","cloneNode","classList","add","tabIndex","appendChild","set","a","ownerDocument","dir","style","pointerEvents","transform","get","delete","remove","enableHideCaretOnScroll","i","addEventListener","removeEventListener","SKIP_SELECTOR","enableInputBlurring","matches","target","closest","setTimeout","blur","SCROLL_ASSIST_SPEED","getScrollData","calcScrollData","getBoundingClientRect","defaultView","innerHeight","top","bottom","l","c","Math","min","u","s","round","d","f","abs","scrollAmount","scrollDuration","max","scrollPadding","inputSafeY","enableScrollAssist","hasPointerMoved","preventDefault","stopPropagation","jsSetFocus","focus","scrollByPoint","then","x","y","PADDING_TIMER_KEY","enableScrollPadding","setScrollPadding","tagName","parentElement","clearTimeout","setProperty","INPUT_BLURRING","SCROLL_PADDING","startInputShims","getNumber","getBoolean","shadowRoot","querySelector","Array","from","querySelectorAll","length","body"],"mappings":"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","file":"js/chunk-2d0aba4e.d0eb9585.js","sourcesContent":["import{k as pointerCoord}from\"./chunk-6d7d2f8c.js\";var cloneMap=new WeakMap;function relocateInput(e,t,n,o){void 0===o&&(o=0),cloneMap.has(e)!==n&&(n?addClone(e,t,o):removeClone(e,t))}function isFocused(e){return e===e.getRootNode().activeElement}function addClone(e,t,n){var o=t.parentNode,r=t.cloneNode(!1);r.classList.add(\"cloned-input\"),r.tabIndex=-1,o.appendChild(r),cloneMap.set(e,r);var a=\"rtl\"===e.ownerDocument.dir?9999:-9999;e.style.pointerEvents=\"none\",t.style.transform=\"translate3d(\"+a+\"px,\"+n+\"px,0) scale(0)\"}function removeClone(e,t){var n=cloneMap.get(e);n&&(cloneMap.delete(e),n.remove()),e.style.pointerEvents=\"\",t.style.transform=\"\"}function enableHideCaretOnScroll(e,t,n){if(!n||!t)return function(){};var o=function(n){isFocused(t)&&relocateInput(e,t,n)},r=function(){return relocateInput(e,t,!1)},a=function(){return o(!0)},i=function(){return o(!1)};return n.addEventListener(\"ionScrollStart\",a),n.addEventListener(\"ionScrollEnd\",i),t.addEventListener(\"blur\",r),function(){n.removeEventListener(\"ionScrollStart\",a),n.removeEventListener(\"ionScrollEnd\",i),t.addEventListener(\"ionBlur\",r)}}var SKIP_SELECTOR=\"input, textarea, [no-blur]\";function enableInputBlurring(e){var t=!0,n=!1;function o(){n=!0}function r(){t=!0}function a(o){if(n)n=!1;else{var r=e.activeElement;if(r&&!r.matches(SKIP_SELECTOR)){var a=o.target;a!==r&&(a.matches(SKIP_SELECTOR)||a.closest(SKIP_SELECTOR)||(t=!1,setTimeout(function(){t||r.blur()},50)))}}}return e.addEventListener(\"ionScrollStart\",o),e.addEventListener(\"focusin\",r,!0),e.addEventListener(\"touchend\",a,!1),function(){e.removeEventListener(\"ionScrollStart\",o,!0),e.removeEventListener(\"focusin\",r,!0),e.removeEventListener(\"touchend\",a,!1)}}var SCROLL_ASSIST_SPEED=.3;function getScrollData(e,t,n){return calcScrollData((e.closest(\"ion-item,[ion-item]\")||e).getBoundingClientRect(),t.getBoundingClientRect(),n,e.ownerDocument.defaultView.innerHeight)}function calcScrollData(e,t,n,o){var r=e.top,a=e.bottom,i=t.top,l=i+15,c=.5*Math.min(t.bottom,o-n)-a,u=l-r,s=Math.round(c<0?-c:u>0?-u:0),d=Math.min(s,r-i),f=Math.abs(d);return{scrollAmount:d,scrollDuration:Math.min(400,Math.max(150,f/SCROLL_ASSIST_SPEED)),scrollPadding:n,inputSafeY:4-(r-l)}}function enableScrollAssist(e,t,n,o){var r,a=function(e){r=pointerCoord(e)},i=function(a){if(r){var i=pointerCoord(a);hasPointerMoved(6,r,i)||isFocused(t)||(a.preventDefault(),a.stopPropagation(),jsSetFocus(e,t,n,o))}};return e.addEventListener(\"touchstart\",a,!0),e.addEventListener(\"touchend\",i,!0),function(){e.removeEventListener(\"touchstart\",a,!0),e.removeEventListener(\"touchend\",i,!0)}}function jsSetFocus(e,t,n,o){var r=getScrollData(e,n,o);Math.abs(r.scrollAmount)<4?t.focus():(relocateInput(e,t,!0,r.inputSafeY),t.focus(),n.scrollByPoint(0,r.scrollAmount,r.scrollDuration).then(function(){relocateInput(e,t,!1,r.inputSafeY),t.focus()}))}function hasPointerMoved(e,t,n){if(t&&n){var o=t.x-n.x,r=t.y-n.y;return o*o+r*r>e*e}return!1}var PADDING_TIMER_KEY=\"$ionPaddingTimer\";function enableScrollPadding(e,t){function n(e){setScrollPadding(e.target,t)}function o(e){setScrollPadding(e.target,0)}return e.addEventListener(\"focusin\",n),e.addEventListener(\"focusout\",o),function(){e.removeEventListener(\"focusin\",n),e.removeEventListener(\"focusout\",o)}}function setScrollPadding(e,t){if(\"INPUT\"===e.tagName&&(!e.parentElement||\"ION-INPUT\"!==e.parentElement.tagName)){var n=e.closest(\"ion-content\");if(null!==n){var o=n[PADDING_TIMER_KEY];o&&clearTimeout(o),t>0?n.style.setProperty(\"--keyboard-offset\",t+\"px\"):n[PADDING_TIMER_KEY]=setTimeout(function(){n.style.setProperty(\"--keyboard-offset\",\"0px\")},120)}}}var INPUT_BLURRING=!0,SCROLL_PADDING=!0;function startInputShims(e,t){var n=t.getNumber(\"keyboardHeight\",290),o=t.getBoolean(\"scrollAssist\",!0),r=t.getBoolean(\"hideCaretOnScroll\",!0),a=t.getBoolean(\"inputBlurring\",!0),i=t.getBoolean(\"scrollPadding\",!0),l=new WeakMap,c=new WeakMap;function u(e){var t=(e.shadowRoot||e).querySelector(\"input\")||(e.shadowRoot||e).querySelector(\"textarea\"),a=e.closest(\"ion-content\");if(t){if(a&&r&&!l.has(e)){var i=enableHideCaretOnScroll(e,t,a);l.set(e,i)}a&&o&&!c.has(e)&&(i=enableScrollAssist(e,t,a,n),c.set(e,i))}}a&&INPUT_BLURRING&&enableInputBlurring(e),i&&SCROLL_PADDING&&enableScrollPadding(e,n);for(var s=0,d=Array.from(e.querySelectorAll(\"ion-input, ion-textarea\"));s<d.length;s++)u(d[s]);e.body.addEventListener(\"ionInputDidLoad\",function(e){u(e.target)}),e.body.addEventListener(\"ionInputDidUnload\",function(e){var t,n;t=e.target,r&&((n=l.get(t))&&n(),l.delete(t)),o&&((n=c.get(t))&&n(),c.delete(t))})}export{startInputShims};"],"sourceRoot":""}